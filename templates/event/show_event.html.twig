{% extends 'base.html.twig' %}

{% block body %}
	<div class="jumbotron jumbotron-fluid">
		<div class="container">
			<h1 class="display-4">{{ event.title }}</h1>
			<p class="lead">{{ event.description | raw}}</p>
		</div>
	</div>

    <center>
    <div class="row" style="margin-left : 400px;">
	<div class="">
		<img src="{{ event.image}}" alt="" style="text-align: center;">	
	</div>

    <div class="" style="margin-left : 50px;">
    <p>Prix:
			{{ event.price }}€</p>
		<p>Evenement:
			{{ event.recursion.name }}</p>
    </div>
    </div>
    </center>

    <hr>

	<div class="" style="margin-top : 80px;">
		{% if event.photos is empty %}
        <center>
        <div class="alert alert-dark" role="alert" style="text-align: center; width : 400px;">
           Il n'y a pas de photos pour cet évenement.
        </div>
        </center>
		{% else %}
			{% for photo in event.photos %}
				<div class="col" style="margin: 20px 0 20px 0q">
					<p>Photo postée par:
						{{photo.author.firstName}}</p>
					<img src="{{ photo.url}}" alt="">
					<a class="btn btn-lg" style="background-color:transparent;"><i class="far fa-heart"></i> Like</a>
                    <div class="commentaires">
					<a class="btn btn-lg" style="background-color:transparent;" href=" {{ path('photo_show', {'id': photo.id }) }}">il y a {{ photo.comments | length}} commentaire{% if photo.comments | length <= 1 %} {% else %}s {% endif %}</a>
                    </div>
				</div>
				<hr>
			{% endfor %}
		{% endif %}
		{% if app.user.name is defined %}
			<div class="" style="margin-top : 100px;">
				<p>Vous avez participé a l'évenement ? Partagez vos photos :
				</p>
				{{ form(formUpload)}}
				</div>
			{% else %}
				<p>Si vous avez participé a l'évenement et souhaitez poster des photos,</p>
				<a href="{{path('security_login')}}">connectez-vous</a>
				<p>
					d'abords.</p>
			{% endif %}
		</div>
		<a href="{{ path('event') }}">Retour a la liste</a>
	{% endblock %}
